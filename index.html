function botMove() {
    // 1. Победа бота
    for (let i = 0; i < 9; i++) {
        if (!cells[i]) {
            cells[i] = 'O';
            if (checkWinner(cells, 'O')) return i;
            cells[i] = null;
        }
    }

    // 2. Блокировка игрока
    for (let i = 0; i < 9; i++) {
        if (!cells[i]) {
            cells[i] = 'X';
            if (checkWinner(cells, 'X')) {
                cells[i] = 'O';
                return i;
            }
            cells[i] = null;
        }
    }

    // 3. Защита от угловой ловушки
    const corners = [0, 2, 6, 8];
    let playerCorners = corners.filter(i => cells[i] === 'X');
    
    // Если игрок занял два противоположных угла
    if (playerCorners.includes(0) && playerCorners.includes(8) ||
        playerCorners.includes(2) && playerCorners.includes(6)) {
        // Занимаем любую сторону
        const sides = [1, 3, 5, 7].filter(i => !cells[i]);
        if (sides.length > 0) return sides[0];
    }

    // 4. Центр
    if (!cells[4]) return 4;

    // 5. Противоположный угол, если игрок в углу
    const oppositeCorners = {0:8, 2:6, 6:2, 8:0};
    for (const [corner, opposite] of Object.entries(oppositeCorners)) {
        if (cells[corner] === 'X' && !cells[opposite]) {
            return opposite;
        }
    }

    // 6. Любой свободный угол
    const emptyCorners = corners.filter(i => !cells[i]);
    if (emptyCorners.length > 0) return emptyCorners[0];

    // 7. Любая свободная сторона
    const sides = [1, 3, 5, 7].filter(i => !cells[i]);
    if (sides.length > 0) return sides[0];

    return cells.indexOf(null); // Последняя свободная ячейка
}
